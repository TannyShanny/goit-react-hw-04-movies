(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{14:function(e,t,a){e.exports={wrapper:"MovieDetailsInfo_wrapper__WlA6F",dataWrapper:"MovieDetailsInfo_dataWrapper__3s03F",imagesWrapper:"MovieDetailsInfo_imagesWrapper__31P0T",poster:"MovieDetailsInfo_poster__1GyGV",infoWrapper:"MovieDetailsInfo_infoWrapper__333qw",filmTitle:"MovieDetailsInfo_filmTitle__3vb27",text:"MovieDetailsInfo_text__1OnOl",genre:"MovieDetailsInfo_genre__35qcq"}},15:function(e,t,a){e.exports={navigation:"Navbar_navigation__1CJjJ",wrapper:"Navbar_wrapper__3wPoF",navItem:"Navbar_navItem__332xR",link:"Navbar_link__2G6eS",activeLink:"Navbar_activeLink__yU8ya"}},19:function(e,t,a){e.exports={linksWrapper:"MovieDetailsPage_linksWrapper__2o-wo",link:"MovieDetailsPage_link__3uQiW",activeLink:"MovieDetailsPage_activeLink__v6MsT"}},21:function(e,t,a){e.exports={card:"FilmCard_card__2_X-2",cardImage:"FilmCard_cardImage__2gqta",filmLink:"FilmCard_filmLink__3T3LF"}},22:function(e,t,a){e.exports={review:"Reviews_review__2v3f7",author:"Reviews_author__2imNW",wrapper:"Reviews_wrapper__3KevT",noReviews:"Reviews_noReviews__i3NKp"}},23:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__EPWuo",searchFormWrapper:"SearchForm_searchFormWrapper__xsdzw",searchFormInput:"SearchForm_searchFormInput__3b1aZ",searchFormButton:"SearchForm_searchFormButton__3-TbW"}},25:function(e,t,a){e.exports={cast:"Cast_cast__1BZ02",card:"Cast_card__1Q0KX",style:"Cast_style__34JJB"}},29:function(e,t,a){e.exports={list:"FilmsList_list__w9Uk_",listItem:"FilmsList_listItem__3vSwn"}},40:function(e,t,a){e.exports={homePage:"HomePage_homePage__2kNnR"}},49:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(1),c=a.n(r),s=a(39),i=a.n(s),o=(a(49),{home:"/",movies:"/movies",movieDetails:"/movies/:movieId",cast:"/movies/:movieId/cast",reviews:"/movies/:movieId/reviews"}),l=a(13),u=a(2),p=a(7),m=a(8),h=a(10),v=a(9),j=a(12),d=a.n(j),f=a(17),b=a(18),_=a.n(b),O="https://api.themoviedb.org/3/",x="eb637a58a3242e30dedc103f2eb32df4",g=function(){var e=Object(f.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(O,"movie/").concat(t,"?api_key=").concat(x));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(O,"trending/movie/week?api_key=").concat(x));case 2:return t=e.sent,a=t.data.results,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(O,"search/movie?api_key=").concat(x,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"));case 2:return a=e.sent,n=a.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(O,"movie/").concat(t,"/credits?api_key=").concat(x));case 2:return a=e.sent,n=a.data.cast,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(O,"movie/").concat(t,"/reviews?api_key=").concat(x));case 2:return a=e.sent,n=a.data.results,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=a(40),I=a.n(F),S="https://www.2queue.com/2queue/wp-content/uploads/sites/6/tdomf/4299/movie-poster-coming-soon.png",C="https://image.tmdb.org/t/p/w",D=a(21),L=a.n(D),W=Object(u.f)((function(e){var t=e.poster,a=e.title,r=e.id,c=e.location;return Object(n.jsx)(l.b,{className:L.a.filmLink,to:{pathname:"".concat(o.movies,"/").concat(r),state:{from:c}},children:Object(n.jsxs)("div",{className:L.a.card,children:[Object(n.jsx)("img",{className:L.a.cardImage,src:t,alt:"movie poster"}),Object(n.jsx)("p",{className:L.a.cardTitle,children:a})]})})})),q=a(29),M=a.n(q),P=function(e){var t=e.films;return Object(n.jsx)("ul",{className:M.a.list,children:t.map((function(e){var t=e.id,a=e.title,r=e.poster_path;return Object(n.jsx)("li",{className:M.a.listItem,children:Object(n.jsx)(W,{poster:r?"".concat(C,"500").concat(r):S,title:a,id:t})},t)}))})},T=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={films:[]},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;w().then((function(t){e.setState({films:t})}))}},{key:"render",value:function(){var e=this.state.films;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{className:I.a.homePage,children:"Trending today"}),e&&Object(n.jsx)(P,{films:e})]})}}]),a}(r.Component),B=a(14),R=a.n(B),A=function(e){var t=e.film,a=e.genres,r=e.onGoBack,c=t.poster_path,s=t.release_date,i=t.vote_average,o=t.vote_count,l=t.revenue,u=t.overview,p=t.title;return Object(n.jsxs)("div",{className:R.a.wrapper,children:[Object(n.jsx)("button",{type:"button",onClick:r,children:"Back"}),Object(n.jsxs)("div",{className:R.a.dataWrapper,children:[Object(n.jsx)("div",{className:"imagesWrapper",children:Object(n.jsx)("img",{className:R.a.poster,src:c?"".concat(C,"780").concat(c):S,alt:"poster"})}),Object(n.jsxs)("div",{className:R.a.infoWrapper,children:[Object(n.jsx)("p",{className:R.a.filmTitle,children:Object(n.jsxs)("span",{className:R.a.text,children:[p," (",parseInt(s),")"]})}),Object(n.jsxs)("p",{children:["Rating: ",Object(n.jsxs)("span",{className:R.a.text,children:[i,"/10"]})," from",Object(n.jsxs)("span",{className:R.a.text,children:[" ",o," "]}),"users"]}),Object(n.jsxs)("p",{children:["Revenue: ",l,"$"]}),Object(n.jsxs)("p",{children:["Overview: ",u]}),Object(n.jsxs)("p",{children:["Genres:",a&&a.map((function(e){var t=e.id,a=e.name;return Object(n.jsx)("span",{className:R.a.genre,children:a},t)}))]})]})]})]})},G=a(79),J=a(25),U=a.n(J),K=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={cast:[]},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.movieId;k(t).then((function(t){var a=t.map((function(e){var t=e.profile_path,a=e.name,r=e.character;return Object(n.jsxs)("li",{className:U.a.card,children:[Object(n.jsx)("img",{src:t?"".concat(C,"200").concat(t):"https://s.poembook.ru/theme/86/2a/13/e2cf2d0389c3ccd536c49889e19d2463f5c25e0c.jpeg",alt:"actor"}),Object(n.jsx)("p",{className:U.a.style,children:a}),Object(n.jsx)("p",{children:r})]},Object(G.a)())}));e.setState({cast:a})}))}},{key:"render",value:function(){return Object(n.jsx)("ul",{className:U.a.cast,children:this.state.cast})}}]),a}(r.Component),E=a(22),H=a.n(E),Q=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={reviews:[]},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.movieId;N(t).then((function(t){return e.setState({reviews:t})}))}},{key:"render",value:function(){var e=this.state.reviews;return Object(n.jsx)("ul",{className:H.a.wrapper,children:e.length?e.map((function(e){var t=e.author,a=e.content;return Object(n.jsxs)("li",{className:H.a.review,children:[Object(n.jsxs)("p",{className:H.a.author,children:["Author: ",t]}),Object(n.jsxs)("p",{children:['"',a,'"']})]},Object(G.a)())})):Object(n.jsx)("p",{className:H.a.noReviews,children:"No reviews yet"})})}}]),a}(r.Component),X=a(19),Z=a.n(X),z=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={film:{},from:null,isLoading:!1},e.handleGoBack=function(){var t=e.props.history;if(e.state.from){var a=e.state.from,n=a.pathname,r=a.search;t.push("".concat(n).concat(r))}else t.push(o.home)},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0});var t=this.props.location.state;t&&this.setState({from:t.from});var a=this.props.match.params.movieId;g(a).then((function(t){e.setState({film:t})})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.film,a=e.isLoading,r=this.props.match.url;return Object(n.jsxs)(n.Fragment,{children:[!a&&Object(n.jsx)(A,{film:t,genres:t.genres,onGoBack:this.handleGoBack}),Object(n.jsxs)("div",{className:Z.a.linksWrapper,children:[Object(n.jsx)(l.c,{className:Z.a.link,activeClassName:Z.a.activeLink,to:"".concat(r,"/cast"),children:"Cast"}),Object(n.jsx)(l.c,{className:Z.a.link,activeClassName:Z.a.activeLink,to:"".concat(r,"/reviews"),children:"Reviews"}),Object(n.jsx)(u.b,{path:"".concat(o.cast),component:K}),Object(n.jsx)(u.b,{path:"".concat(o.reviews),component:Q})]})]})}}]),a}(r.Component),V=a(30),$=a(42),Y=a.n($),ee=a(23),te=a.n(ee),ae=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleSubmit=function(t){t.preventDefault();var a=e.state.query;e.props.onSubmit(a),e.setState({query:""})},e.handleChange=function(t){var a=t.target;e.setState({query:a.value})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state.query;return Object(n.jsx)("form",{className:te.a.searchForm,onSubmit:this.handleSubmit,children:Object(n.jsxs)("div",{className:te.a.searchFormWrapper,children:[Object(n.jsx)("input",{className:te.a.searchFormInput,type:"text",value:e,onChange:this.handleChange,placeholder:"Search"}),Object(n.jsx)("button",{type:"submit",className:te.a.searchFormButton,children:"Search"})]})})}}]),a}(r.Component),ne=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:"",films:[]},e.onSubmit=function(t){var a=e.props,n=a.history,r=a.location;n.push(Object(V.a)(Object(V.a)({},r.pathname),{},{search:"query=".concat(t)})),e.setState({query:t})},e}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a,n=this,r=(a=this.props,Y.a.parse(a.location.search).query);t.query!==this.state.query&&y(r).then((function(e){n.setState({films:e.results}),n.setState({total_results:e.total_results})}))}},{key:"render",value:function(){var e=this.state,t=e.films,a=e.total_results;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ae,{onSubmit:this.onSubmit}),t&&a>0&&Object(n.jsx)(P,{films:t}),0===a&&Object(n.jsx)("div",{children:"There's no such film. Please try again"})]})}}]),a}(r.Component),re=a(15),ce=a.n(re),se=function(){return Object(n.jsx)("div",{className:ce.a.navigation,children:Object(n.jsxs)("ul",{className:ce.a.wrapper,children:[Object(n.jsx)("li",{className:ce.a.navItem,children:Object(n.jsx)(l.c,{to:o.home,exact:!0,className:ce.a.link,activeClassName:ce.a.activeLink,children:"Home"})}),Object(n.jsx)("li",{className:ce.a.navItem,children:Object(n.jsx)(l.c,{to:o.movies,className:ce.a.link,activeClassName:ce.a.activeLink,children:"Movies"})})]})})},ie=function(){return Object(n.jsx)("div",{children:Object(n.jsxs)(l.a,{children:[Object(n.jsx)(se,{}),Object(n.jsx)(u.b,{path:o.home,exact:!0,component:T}),Object(n.jsx)(u.b,{path:o.movies,exact:!0,component:ne}),Object(n.jsx)(u.b,{path:o.movieDetails,component:z}),Object(n.jsx)(u.a,{to:o.home})]})})},oe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,80)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(ie,{})}),document.getElementById("root")),oe()}},[[78,1,2]]]);
//# sourceMappingURL=main.fbfcf7a1.chunk.js.map